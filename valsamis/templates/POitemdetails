{% extends "base_generic2.html" %}

{% block content %}

{% comment %}
  <h1>Items belonging to PO # {{ queryset.id }}</h1>
  
  {% for copy in purchaseorder.materialitemregister_set.all %}
  <hr>
  <p><strong>ID:</strong> {{ copy.id }}</p>
  <p><strong>Purchase Order:</strong> {{ copy.PurchaseOrder }}</p>
  <p><strong>Item Description:</strong> {{ copy.item_description }}</p>
  <p><strong>General Item:</strong> {{ copy.generalitem }}</p>
  <p><strong>Price:</strong> {{ copy.price }}</p>
  <p><strong>Currency:</strong> {{ copy.currency }}</p>
  <p><strong>Supplier code:</strong> {{ copy.supplier_code }}</p>
  <p><strong>notes:</strong> {{ copy.notes }}</p>
  {% endfor %}
 
  <div style="margin-left:20px;margin-top:20px">

<br>
  <p><strong>Total Amount:</strong> </p>
  <p> <a href = "{% url 'POpdfURL' %}" class ="">Print PDF of PO </p>

    <a href = "{% url 'POformURL'  %}" class ="">
        <button type="button">Add New Item</button>  
        </a>

{% endcomment %}



{% comment %}
if no item in PO, text to say PO is empty
{% endcomment %}

<a href = "{% url 'POitemformURL'  %}" class ="">
  <button type="button">Add Item to PO</button>  
</a>

    <br>
    <br>
    <p>Add item button here (PK of current PO is already passed into URL. send this to the add item button) </p>
    <p> if pk = 0/empty, button adds item without having PO already filled out </p>
    <p> update/delete links below are for PO not for the item </p>

    <table class="table table-bordered">
        <thead>
          <tr>
            <th>PO</th>
            <th>date created</th>
            <th>item description</th>
            <th>item category</th>
            <th>unit</th>
            <th>price</th>
            <th>currency</th>
            <th>supplier code</th>
            <th>notes for item</th>
            <th>Update</th>
            <th>Delete</th>
          </tr>
        </thead>
        <tbody>
          {% for item in queryset %}
            <tr>
              <td>{{ item.PurchaseOrder.id }}</td>
              <td>{{ item.date_created }}</td>
              <td>{{ item.item_description }}</td>
              <td>{{ item.date_created}}</td>
              <td>{{ item.generalitem }}</td>
              <td>{{ item.price }}</td>
              <td>{{ item.currency }}</td>
              <td>{{ item.supplier_code}}</td>
              <td>{{ item.notes}}</td>
              <td><a href = "{% url 'POitemformURL'%}" class ="">
                <button type="button">update</button> </a></td>
              <td>
                    <form action = "{% url 'POdeleteURL' item.id %}" method ="post">
                        {% csrf_token %}
                        <button type = "submit" class ="">delete</button>
            
                    </form></td>

              {% endfor %}
            </tr>
        </tbody>
      </table>
      <br>
  <p><strong>Total Amount:</strong> </p>
  <p> <a href = "{% url 'POpdfURL' %}" class ="">Print PDF of PO </p>

{% endblock %}

